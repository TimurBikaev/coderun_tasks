import java.util.Arrays;

/* C–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—É–∑—ã—Ä—å–∫–æ–º -- —Ä–∞—Å—Å—Ç–∞–≤–∏—Ç—å –∑–Ω–∞—á–µ–Ω–∏—è –≤ –º–∞—Å—Å–∏–≤–µ –æ—Ç –º–µ–Ω—å—à–µ–≥–æ –∫ –±–æ–ª—å—à–µ–º—É
–û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è - —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ–ø–∞—Ä–Ω–æ: 1 –∏ 2, 2 –∏ 3, 3 –∏ 4...
–ï—Å–ª–∏ –ª–µ–≤—ã–π —ç–ª–µ–º–µ–Ω—Ç –±–æ–ª—å—à–µ –ø—Ä–∞–≤–æ–≥–æ -- –º–µ–Ω—è–µ–º –∏—Ö –º–µ—Å—Ç–∞–º–∏
–ï—Å–ª–∏ –ø–µ—Ä–µ—Å—Ç–∞–Ω–æ–≤–æ–∫ –Ω–µ –ø—Ä–æ–∏–∑–æ—à–ª–æ -- –∑–Ω–∞—á–∏—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã —É–∂–µ —Ä–∞—Å–ø–æ–ª–æ–∂–µ–Ω—ã –≤ –Ω—É–∂–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ
–ö–∞–∂–¥–∞—è –∏—Ç–µ—Ä–∞—Ü–∏—è –ø–µ—Ä–µ–Ω–æ—Å–∏—Ç —Å–∞–º—ã–π –±–æ–ª—å—à–æ–π —ç–ª–µ–º–µ–Ω—Ç –∏–∑ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ –≤ –ø—Ä–∞–≤—É—é: —Å–Ω–∞—á–∞–ª–∞ 98, –ø–æ—Ç–æ–º 73, –ø–æ—Ç–æ–º 64 –∏ —Ç.–¥.
–≠—Ç–æ –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç –≤—Å–ø–ª—ã—Ç–∏–µ –±–æ–ª—å—à–∏—Ö –ø—É–∑—ã—Ä—å–∫–æ–≤ –≤–æ–∑–¥—É—Ö–∞ –∏–∑ –ª–µ–≤–æ–π —á–∞—Å—Ç–∏ –≤ –ø—Ä–∞–≤—É—é

–í—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:

–í –Ω–∞–∏—Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ (–∫–æ–≥–¥–∞ –º–∞—Å—Å–∏–≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ), –Ω–∞–º –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å n-1 –ø—Ä–æ—Ö–æ–¥–æ–≤ –ø–æ –º–∞—Å—Å–∏–≤—É,
–≥–¥–µ n - —ç—Ç–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ. –ö–∞–∂–¥—ã–π –ø—Ä–æ—Ö–æ–¥ —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏, –≤–æ–∑–º–æ–∂–Ω–æ, –æ–±–º–µ–Ω–∞ –ø–∞—Ä—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–∞—Å—Å–∏–≤–∞, —á—Ç–æ —Ç—Ä–µ–±—É–µ—Ç –ø–æ—Ä—è–¥–∫–∞ n –æ–ø–µ—Ä–∞—Ü–∏–π.
–í —Ä–µ–∑—É–ª—å—Ç–∞—Ç–µ –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –±—É–¥–µ—Ç ùëÇ(ùëõ2)

–õ—É—á—à–∏–π —Å–ª—É—á–∞–π:
–í –ª—É—á—à–µ–º —Å–ª—É—á–∞–µ (–∫–æ–≥–¥–∞ –º–∞—Å—Å–∏–≤ —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω), –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–ø–æ–ª–Ω—è–µ—Ç –æ–¥–∏–Ω –ø—Ä–æ—Ö–æ–¥ –ø–æ –º–∞—Å—Å–∏–≤—É –∏ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç,
—á—Ç–æ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –æ–±–º–µ–Ω–æ–≤, –ø–æ—ç—Ç–æ–º—É –∑–∞–≤–µ—Ä—à–∞–µ—Ç —Ä–∞–±–æ—Ç—É. –≠—Ç–æ —Ç—Ä–µ–±—É–µ—Ç ùëÇ(ùëõ) –æ–ø–µ—Ä–∞—Ü–∏–π.

–°—Ä–µ–¥–Ω–∏–π —Å–ª—É—á–∞–π
–í–æ –≤—Å–µ—Ö —Ç–∏–ø–∏—á–Ω—ã—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è—Ö —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –ø—É–∑—ã—Ä—å–∫–æ–º –∞–ª–≥–æ—Ä–∏—Ç–º –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø–æ –º–∞—Å—Å–∏–≤—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑, —Å—Ä–∞–≤–Ω–∏–≤–∞—è –∏ –æ–±–º–µ–Ω–∏–≤–∞—è —Å–æ—Å–µ–¥–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç—ã, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ. –í —Å—Ä–µ–¥–Ω–µ–º —Å–ª—É—á–∞–µ –≤—Ä–µ–º–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ü–µ–Ω–∏–≤–∞–µ—Ç—Å—è –∫–∞–∫
ùëÇ(ùëõ2). –≠—Ç–æ —Å–≤—è–∑–∞–Ω–æ —Å —Ç–µ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π —ç–ª–µ–º–µ–Ω—Ç –≤ —Å—Ä–µ–¥–Ω–µ–º —Ç—Ä–µ–±—É–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ–º –¥—Ä—É–≥–∏—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞.

–ü–æ—á–µ–º—É ùëÇ(ùëõ2)?
–í —Å—Ä–µ–¥–Ω–µ–º –º–∞—Å—Å–∏–≤ –±—É–¥–µ—Ç –Ω–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω, –∏ –ø–æ—Ç—Ä–µ–±—É–µ—Ç—Å—è –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–∏–º–µ—Ä–Ω–æ –ø–æ–ª–æ–≤–∏–Ω—É –≤—Å–µ—Ö –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ–±–º–µ–Ω–æ–≤. –í –∫–∞–∂–¥–æ–º –ø—Ä–æ—Ö–æ–¥–µ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —Ü–∏–∫–ª –≤—ã–ø–æ–ª–Ω—è–µ—Ç
ùëõ‚àí1 —Å—Ä–∞–≤–Ω–µ–Ω–∏–π (–∏ –≤–æ–∑–º–æ–∂–Ω—ã—Ö –æ–±–º–µ–Ω–æ–≤), –≥–¥–µ n ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ –º–∞—Å—Å–∏–≤–µ.
–¢–∞–∫ –∫–∞–∫ –≤–Ω–µ—à–Ω–∏–π —Ü–∏–∫–ª –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è n —Ä–∞–∑ (–≤ —Ö—É–¥—à–µ–º —Å–ª—É—á–∞–µ), –æ–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–ø–µ—Ä–∞—Ü–∏–π —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –±—É–¥–µ—Ç –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ
n√ó(n‚àí1)/2, —á—Ç–æ —É–ø—Ä–æ—â–∞–µ—Ç—Å—è –¥–æ ùëÇ(ùëõ2)

–ü—Ä–æ—Å—Ç—Ä–∞–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å:
–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –ø—É–∑—ã—Ä—å–∫–æ–º —è–≤–ª—è–µ—Ç—Å—è –∞–ª–≥–æ—Ä–∏—Ç–º–æ–º —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏ –Ω–∞ –º–µ—Å—Ç–µ (in-place sort),
—Ç–∞–∫ –∫–∞–∫ –æ–Ω–∞ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–∞—Å—Å–∏–≤–∞ –∏–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–≥–æ –æ–±—ä–µ–º–∞ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –¥–ª—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏.
–ï–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–∞—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø–∞–º—è—Ç—å, –∫–æ—Ç–æ—Ä–∞—è —Ç—Ä–µ–±—É–µ—Ç—Å—è, ‚Äî —ç—Ç–æ –≤—Ä–µ–º–µ–Ω–Ω–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è –¥–ª—è –æ–±–º–µ–Ω–∞ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–∞—Å—Å–∏–≤–∞.
–ê–ª–≥–æ—Ä–∏—Ç–º –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ–¥–Ω—É –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω–æ–≥–æ —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –≤–æ –≤—Ä–µ–º—è –æ–±–º–µ–Ω–∞ –¥–≤—É—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤.
–°–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ, –æ–±—ä–µ–º –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –ø–∞–º—è—Ç–∏ –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Ä–∞–∑–º–µ—Ä–∞ –º–∞—Å—Å–∏–≤–∞ –∏ —è–≤–ª—è–µ—Ç—Å—è –∫–æ–Ω—Å—Ç–∞–Ω—Ç–Ω—ã–º, —á—Ç–æ –æ–±–æ–∑–Ω–∞—á–∞–µ—Ç—Å—è –∫–∞–∫
ùëÇ(1)

–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 1: –º–æ–∂–Ω–æ –Ω–µ —Å—Ä–∞–≤–Ω–∏–≤–∞—Ç—å —É–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –≤ –ø—Ä–∞–≤–æ–π —á–∞—Å—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã
–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è 2: –º–æ–∂–Ω–æ —á–µ—Ä–µ–∑ —Ä–∞–∑ –º–µ–Ω—è—Ç—å –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ - —Å–∞–º—ã–π –º–∞–ª–µ–Ω—å–∫–∏–π —ç–ª–µ–º–µ–Ω—Ç –±—É–¥–µ—Ç –≤—Å–ø–ª—ã–≤–∞—Ç—å –≤–ª–µ–≤–æ
 */
public class Sorting_shakers_advanced_bubbles {

    public static void main(String[] args) {
        int[] array = new int[]{64, 42, 73, 41, 31, 53, 16, 57, 48, 55, 98, 2};
        int n = array.length; // —Å–æ—Ö—Ä–∞–Ω—è–µ–º –¥–ª–∏–Ω—É –º–∞—Å—Å–∏–≤–∞ –¥–ª—è —É–º–µ–Ω—å—à–µ–Ω–∏—è –æ–±–ª–∞—Å—Ç–∏ —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
        boolean isSorted = false;
        System.out.println();
        System.out.println("–ò—Å—Ö–æ–¥–Ω—ã–π –º–∞—Å—Å–∏–≤: " + Arrays.toString(array));

        int iteration = 0; // —Å—á–µ—Ç—á–∏–∫ –∏—Ç–µ—Ä–∞—Ü–∏–π

        while (!isSorted) {
            isSorted = true;

            // –ü—Ä–æ—Ö–æ–¥ —Å–ª–µ–≤–∞ –Ω–∞–ø—Ä–∞–≤–æ
            for (int i = 1; i < n; i++) {
                if (array[i] < array[i - 1]) {
                    int temp = array[i];
                    array[i] = array[i - 1];
                    array[i - 1] = temp;
                    isSorted = false;
                }
            }

            n--; // –£–º–µ–Ω—å—à–∞–µ–º –æ–±–ª–∞—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
            System.out.println("–û–±–ª–∞—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç " + n + " —ç–ª–µ–º–µ–Ω—Ç–æ–≤");
            iteration++;
            System.out.println("–ò—Ç–µ—Ä–∞—Ü–∏—è " + iteration + ": " + Arrays.toString(array));

            if (isSorted) break;

            // –ü—Ä–æ—Ö–æ–¥ —Å–ø—Ä–∞–≤–∞ –Ω–∞–ª–µ–≤–æ
            for (int i = n - 1; i >= 1; i--) {
                if (array[i] < array[i - 1]) {
                    int temp = array[i];
                    array[i] = array[i - 1];
                    array[i - 1] = temp;
                    isSorted = false;
                }
            }

            n--; // –£–º–µ–Ω—å—à–∞–µ–º –æ–±–ª–∞—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è
            System.out.println("–û–±–ª–∞—Å—Ç—å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è —Å–æ—Å—Ç–∞–≤–ª—è–µ—Ç " + n + " —ç–ª–µ–º–µ–Ω—Ç–æ–≤");
            iteration++;
            System.out.println("–ò—Ç–µ—Ä–∞—Ü–∏—è " + iteration + ": " + Arrays.toString(array));
        }

        System.out.println("–ú–∞—Å—Å–∏–≤ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω –∑–∞ " + iteration + " –∏—Ç–µ—Ä–∞—Ü–∏–π –∏ –ø–æ—Å–ª–µ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏: " + Arrays.toString(array));
    }}
